{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/classes/greenLight.ts","src/classes/redLight.ts","src/classes/trafficLightTimer.ts","src/classes/trafficSignal.ts","src/classes/yellowLight.ts","src/main.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","yellowLight_1","GreenLight","prototype","startTransition","traffic","trafficTimer","this","reset","setTime","startTimer","onTimeOver","bind","yellow","YellowLight","changeState","getStateName","greenLight_1","RedLight","green","TrafficLightTimer","timer","document","getElementById","time","second","callBack","innerText","String","setInterval","clearInterval","TrafficSignal","signal","trafficContainer","undefined","className","classList","remove","add","redLight_1","red","trafficSignal_1","trafficLightTimer_1","Main","init","addEventListener","render","greenLight"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","import {ISignal} from \"../interfaces/ISignal\";\nimport {ITraffic} from \"../interfaces/ITraffic\";\nimport {ITrafficLightTimer} from \"../interfaces/ITrafficLightTimer\"\n\nimport {YellowLight} from \"./yellowLight\"\n\nexport class GreenLight implements ISignal{\n    traffic:ITraffic\n    constructor(){}\n\n    public startTransition(traffic:ITraffic, trafficTimer:ITrafficLightTimer){\n        this.traffic = traffic;\n        trafficTimer.reset();\n        trafficTimer.setTime(10);\n        trafficTimer.startTimer(this.onTimeOver.bind(this));\n    }\n\n    private onTimeOver(){\n        var yellow = new YellowLight();\n        this.traffic.changeState(yellow);\n    }        \n\n    public getStateName():string{\n        return \"green\";\n    }\n\n    \n}","import {ISignal} from \"../interfaces/ISignal\";\nimport {ITraffic} from \"../interfaces/ITraffic\";\nimport {ITrafficLightTimer} from \"../interfaces/ITrafficLightTimer\"\n\nimport {GreenLight} from \"./greenLight\"\n\nexport class RedLight implements ISignal{\n    traffic:ITraffic\n    constructor(){}\n\n    public startTransition(traffic:ITraffic, trafficTimer:ITrafficLightTimer){\n        this.traffic = traffic;\n        trafficTimer.reset();\n        trafficTimer.setTime(10);\n        trafficTimer.startTimer(this.onTimeOver.bind(this));\n    }\n\n    private onTimeOver(){\n        var green = new GreenLight();\n        this.traffic.changeState(green);\n    }   \n\n    public getStateName():string{\n        return \"red\";\n    }\n}","import { ITrafficLightTimer } from \"../interfaces/ITrafficLightTimer\";\r\n\r\nexport class TrafficLightTimer implements ITrafficLightTimer {\r\n    private time:number;\r\n    private timer:HTMLElement;\r\n    constructor(){\r\n        this.timer = document.getElementById('timer');\r\n    }\r\n\r\n    public reset():boolean {\r\n        this.time = 0;\r\n        return true;\r\n    }\r\n\r\n    public setTime(second:number):boolean {\r\n        this.time = second;\r\n        return true;\r\n    }\r\n\r\n    public startTimer(callBack:Function):void {\r\n        this.timer.innerText = String(this.time);   \r\n        var t = setInterval(function(){\r\n            this.time-= 1;\r\n            this.timer.innerText = String(this.time);\r\n            if( this.time === -1){\r\n                clearInterval(t);\r\n                callBack();\r\n            }\r\n        }.bind(this),1000);\r\n    }\r\n    \r\n}","import {ISignal} from \"../interfaces/ISignal\";\nimport {ITraffic} from \"../interfaces/ITraffic\";\nimport {ITrafficLightTimer} from \"../interfaces/ITrafficLightTimer\"\n\nexport class TrafficSignal implements ITraffic{\n    className:string;\n    trafficContainer:HTMLElement = document.getElementById(\"trafficContainer\");\n    signal:ISignal;\n    trafficTimer:ITrafficLightTimer;\n\n    constructor(signal:ISignal, trafficTimer:ITrafficLightTimer){\n        this.trafficTimer = trafficTimer;\n        this.changeState(signal);\n    }\n\n    public changeState(signal:ISignal){\n        if(this.className != undefined){\n            this.trafficContainer.classList.remove(this.className);\n        }\n        this.signal = signal;\n        this.className = this.signal.getStateName();\n        this.trafficContainer.classList.add(this.className);\n               \n       this.startTransition();\n    }\n    \n    private startTransition(){\n        this.signal.startTransition(this, this.trafficTimer);\n    }\n\n}","import {ISignal} from \"../interfaces/ISignal\";\nimport {ITraffic} from \"../interfaces/ITraffic\";\nimport {ITrafficLightTimer} from \"../interfaces/ITrafficLightTimer\"\n\nimport {RedLight} from \"./redLight\";\n\nexport class YellowLight implements ISignal {\n    traffic:ITraffic\n    constructor(){}\n\n    public startTransition(traffic:ITraffic, trafficTimer:ITrafficLightTimer){\n        this.traffic = traffic;\n        trafficTimer.reset();\n        trafficTimer.setTime(5);\n        trafficTimer.startTimer(this.onTimeOver.bind(this));\n    }\n\n    private onTimeOver(){\n        var red = new RedLight();\n        this.traffic.changeState(red);\n    }\n\n    public getStateName():string{\n        return \"yellow\";\n    }\n}","import {TrafficSignal} from \"./classes/trafficSignal\";\nimport {GreenLight} from \"./classes/greenLight\";\nimport {TrafficLightTimer} from \"./classes/trafficLightTimer\"\nclass Main{\n\n    public init(){\n        document.addEventListener(\"DOMContentLoaded\", this.render);\n    }\n\n    public render(){\n        var trafficTimer:TrafficLightTimer = new TrafficLightTimer();\n        var greenLight = new GreenLight();\n        var trafficSignal = new TrafficSignal(greenLight, trafficTimer);\n    }\n\n}\n\nvar main = new Main();\nmain.init();\n"]}